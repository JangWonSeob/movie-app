<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:replace="/fragments/head :: fragment-head"></div>
</head>
<style>
    div {
        position: static;
    }

    body {
        margin: 0 auto;
        width: auto;
        background-color: black;
    }

</style>
<div th:replace="/fragments/commonNav :: commonNav"></div>

<main style="margin: 0 auto; width: 75%; padding: 60px 60px 30px 60px; background-color: white; margin-top: 50px" class="rounded">
    <body>
    <!-- 게시물 내용 출력 -->
    <div class="container1">
        <div class="row">
            <h2 class="col-md-10" th:text="| ${detail.title}|">제목</h2>
        </div>
        <hr style="border: solid 1px gray" class="mb-3">

        <div class="row" style="vertical-align: center;">
            <p class="col-md-10" th:text="| 작성자: ${detail.regNm} / 작성일: ${#dates.format(detail.regDt, 'yyyy-MM-dd')}|">
                작성자
                작성일</p>
            <p class="col-md-1" style="text-align: center;" th:text="| 조회수 ${detail.viewCount}|">조회수</p>
            <button class="col-md-1 btn btn-outline-warning w-15 text-center"  id="board-bookmark" type="button">즐겨찾기</button>
        </div>
        <hr style="border: solid 1px gray" class="mb-3">
        <div style="height: 500px">
            <div class="row">
                <div th:if="${writerId == loginUserId}">
                    <a th:href="@{/board/update/{id}(id=${detail.id})}" class="btn btn-outline-dark w-30 float-end"
                       type="button">수정</a>
                    <a th:href="@{/board/delete/{id}(id=${detail.id})}"
                       onclick="return confirm('이 글을 정말 삭제하시겠습니까?')" class="btn btn-outline-dark w-30 float-end">삭제</a>
                </div>
            </div>
            <div class="row" style="padding: 15px 10px" th:utext="${detail.contents}" >
            </div>

        </div>

        <div class="row" style="margin-bottom: 30px">
            <div class="text-center">
                <button class="btn btn-outline-warning w-40" id="board-like" type="button">좋아요</button>
                <button class="btn btn-outline-warning w-40" id="board-unlike" type="button">싫어요</button>

            </div>
        </div>

        <hr style="border: solid 1px gray" class="mb-3">
        <div sec:authorize="isAuthenticated()" style="justify-content: center">
            <input type="text" class="w-50 form-control" style="margin: auto;" placeholder="댓글을 입력해주세요."/>
            <div class="text-center" style="margin: auto;">
                <button type="button" class="btn btn-primary w-30" style="margin-top : 15px">등록</button>
            </div>
        </div>


        <div style="padding: 15px 30px">
            <h3 style="margin-bottom: 20px">댓글</h3>
            <div class="row mb-5" style="padding-left: 10px;">
                <input id="comment_contents" class="col-md-11 rounded" style="padding-left : 15px; display: flex; justify-content: space-between" placeholder="댓글을 입력해주세요.">
                <div class="col-md-1" style="text-align: left;">
                    <button id="comment_set" class="w-20 btn btn-lg btn-primary">등록</button>
                </div>
            </div>
            <div id="comment_list"></div>

<!--            <div class="row mb-5" style="padding-left: 10px;">-->
<!--                <div th:if="${!loginYn}" style="display: flex; justify-content: space-between">-->
<!--                    <input class="col-md-11" style="padding-left : 15px; display: flex; justify-content: space-between"" id="not_login_contents" readonly>로그인 후 이용해주세요.-->
<!--                </div>-->
<!--            <div class="col-md-1" style="text-align: left;">-->
<!--                <button style="min-width: 50px">등록</button>-->
<!--            </div>-->
<!--            </div>-->
        </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>
    <script th:src="@{/js/board/board.js(v=${#dates.createNow().getTime()})}"></script>
    </div>
    </body>
</main>
</html>